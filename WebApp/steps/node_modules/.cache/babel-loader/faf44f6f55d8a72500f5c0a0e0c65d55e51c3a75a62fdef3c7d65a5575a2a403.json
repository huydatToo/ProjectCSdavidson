{"ast":null,"code":"import _slicedToArray from \"C:/Users/User/Desktop/\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA/davidson/project/DavidsonProject/WebApp/steps/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"C:/Users/User/Desktop/\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA/davidson/project/DavidsonProject/WebApp/steps/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _t from \"@monaco-editor/loader\";\nimport { memo as Te } from \"react\";\nimport ke, { useState as re, useRef as S, useCallback as oe, useEffect as ne } from \"react\";\nimport Se from \"@monaco-editor/loader\";\nimport { memo as ye } from \"react\";\nimport K from \"react\";\nvar le = {\n    wrapper: {\n      display: \"flex\",\n      position: \"relative\",\n      textAlign: \"initial\"\n    },\n    fullWidth: {\n      width: \"100%\"\n    },\n    hide: {\n      display: \"none\"\n    }\n  },\n  v = le;\nimport me from \"react\";\nvar ae = {\n    container: {\n      display: \"flex\",\n      height: \"100%\",\n      width: \"100%\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    }\n  },\n  Y = ae;\nfunction Me(_ref) {\n  var e = _ref.children;\n  return me.createElement(\"div\", {\n    style: Y.container\n  }, e);\n}\nvar Z = Me;\nvar $ = Z;\nfunction Ee(_ref2) {\n  var e = _ref2.width,\n    r = _ref2.height,\n    n = _ref2.isEditorReady,\n    t = _ref2.loading,\n    a = _ref2._ref,\n    m = _ref2.className,\n    E = _ref2.wrapperProps;\n  return K.createElement(\"section\", _objectSpread({\n    style: _objectSpread(_objectSpread({}, v.wrapper), {}, {\n      width: e,\n      height: r\n    })\n  }, E), !n && K.createElement($, null, t), K.createElement(\"div\", {\n    ref: a,\n    style: _objectSpread(_objectSpread({}, v.fullWidth), !n && v.hide),\n    className: m\n  }));\n}\nvar ee = Ee;\nvar H = ye(ee);\nimport { useEffect as xe } from \"react\";\nfunction Ce(e) {\n  xe(e, []);\n}\nvar k = Ce;\nimport { useEffect as ge, useRef as Re } from \"react\";\nfunction he(e, r) {\n  var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n  var t = Re(!0);\n  ge(t.current || !n ? function () {\n    t.current = !1;\n  } : e, r);\n}\nvar l = he;\nfunction D() {}\nfunction h(e, r, n, t) {\n  return De(e, t) || be(e, r, n, t);\n}\nfunction De(e, r) {\n  return e.editor.getModel(te(e, r));\n}\nfunction be(e, r, n, t) {\n  return e.editor.createModel(r, n, t ? te(e, t) : void 0);\n}\nfunction te(e, r) {\n  return e.Uri.parse(r);\n}\nfunction Oe(_ref3) {\n  var e = _ref3.original,\n    r = _ref3.modified,\n    n = _ref3.language,\n    t = _ref3.originalLanguage,\n    a = _ref3.modifiedLanguage,\n    m = _ref3.originalModelPath,\n    E = _ref3.modifiedModelPath,\n    _ref3$keepCurrentOrig = _ref3.keepCurrentOriginalModel,\n    g = _ref3$keepCurrentOrig === void 0 ? !1 : _ref3$keepCurrentOrig,\n    _ref3$keepCurrentModi = _ref3.keepCurrentModifiedModel,\n    N = _ref3$keepCurrentModi === void 0 ? !1 : _ref3$keepCurrentModi,\n    _ref3$theme = _ref3.theme,\n    x = _ref3$theme === void 0 ? \"light\" : _ref3$theme,\n    _ref3$loading = _ref3.loading,\n    P = _ref3$loading === void 0 ? \"Loading...\" : _ref3$loading,\n    _ref3$options = _ref3.options,\n    y = _ref3$options === void 0 ? {} : _ref3$options,\n    _ref3$height = _ref3.height,\n    V = _ref3$height === void 0 ? \"100%\" : _ref3$height,\n    _ref3$width = _ref3.width,\n    z = _ref3$width === void 0 ? \"100%\" : _ref3$width,\n    F = _ref3.className,\n    _ref3$wrapperProps = _ref3.wrapperProps,\n    j = _ref3$wrapperProps === void 0 ? {} : _ref3$wrapperProps,\n    _ref3$beforeMount = _ref3.beforeMount,\n    A = _ref3$beforeMount === void 0 ? D : _ref3$beforeMount,\n    _ref3$onMount = _ref3.onMount,\n    q = _ref3$onMount === void 0 ? D : _ref3$onMount;\n  var _re = re(!1),\n    _re2 = _slicedToArray(_re, 2),\n    M = _re2[0],\n    O = _re2[1],\n    _re3 = re(!0),\n    _re4 = _slicedToArray(_re3, 2),\n    T = _re4[0],\n    s = _re4[1],\n    u = S(null),\n    c = S(null),\n    w = S(null),\n    d = S(q),\n    o = S(A),\n    b = S(!1);\n  k(function () {\n    var i = Se.init();\n    return i.then(function (f) {\n      return (c.current = f) && s(!1);\n    }).catch(function (f) {\n      return (f === null || f === void 0 ? void 0 : f.type) !== \"cancelation\" && console.error(\"Monaco initialization: error:\", f);\n    }), function () {\n      return u.current ? I() : i.cancel();\n    };\n  }), l(function () {\n    if (u.current && c.current) {\n      var i = u.current.getOriginalEditor(),\n        f = h(c.current, e || \"\", t || n || \"text\", m || \"\");\n      f !== i.getModel() && i.setModel(f);\n    }\n  }, [m], M), l(function () {\n    if (u.current && c.current) {\n      var i = u.current.getModifiedEditor(),\n        f = h(c.current, r || \"\", a || n || \"text\", E || \"\");\n      f !== i.getModel() && i.setModel(f);\n    }\n  }, [E], M), l(function () {\n    var i = u.current.getModifiedEditor();\n    i.getOption(c.current.editor.EditorOption.readOnly) ? i.setValue(r || \"\") : r !== i.getValue() && (i.executeEdits(\"\", [{\n      range: i.getModel().getFullModelRange(),\n      text: r || \"\",\n      forceMoveMarkers: !0\n    }]), i.pushUndoStop());\n  }, [r], M), l(function () {\n    var _u$current;\n    (_u$current = u.current) === null || _u$current === void 0 || (_u$current = _u$current.getModel()) === null || _u$current === void 0 || _u$current.original.setValue(e || \"\");\n  }, [e], M), l(function () {\n    var _u$current$getModel = u.current.getModel(),\n      i = _u$current$getModel.original,\n      f = _u$current$getModel.modified;\n    c.current.editor.setModelLanguage(i, t || n || \"text\"), c.current.editor.setModelLanguage(f, a || n || \"text\");\n  }, [n, t, a], M), l(function () {\n    var _c$current;\n    (_c$current = c.current) === null || _c$current === void 0 || _c$current.editor.setTheme(x);\n  }, [x], M), l(function () {\n    var _u$current2;\n    (_u$current2 = u.current) === null || _u$current2 === void 0 || _u$current2.updateOptions(y);\n  }, [y], M);\n  var L = oe(function () {\n      var _u$current3;\n      if (!c.current) return;\n      o.current(c.current);\n      var i = h(c.current, e || \"\", t || n || \"text\", m || \"\"),\n        f = h(c.current, r || \"\", a || n || \"text\", E || \"\");\n      (_u$current3 = u.current) === null || _u$current3 === void 0 || _u$current3.setModel({\n        original: i,\n        modified: f\n      });\n    }, [n, r, a, e, t, m, E]),\n    U = oe(function () {\n      var _c$current2;\n      !b.current && w.current && (u.current = c.current.editor.createDiffEditor(w.current, _objectSpread({\n        automaticLayout: !0\n      }, y)), L(), (_c$current2 = c.current) !== null && _c$current2 !== void 0 && _c$current2.editor.setTheme(x), O(!0), b.current = !0);\n    }, [y, x, L]);\n  ne(function () {\n    M && d.current(u.current, c.current);\n  }, [M]), ne(function () {\n    !T && !M && U();\n  }, [T, M, U]);\n  function I() {\n    var _u$current4, _i$original, _i$modified, _u$current5;\n    var i = (_u$current4 = u.current) === null || _u$current4 === void 0 ? void 0 : _u$current4.getModel();\n    g || i !== null && i !== void 0 && (_i$original = i.original) !== null && _i$original !== void 0 && _i$original.dispose(), N || i !== null && i !== void 0 && (_i$modified = i.modified) !== null && _i$modified !== void 0 && _i$modified.dispose(), (_u$current5 = u.current) === null || _u$current5 === void 0 ? void 0 : _u$current5.dispose();\n  }\n  return ke.createElement(H, {\n    width: z,\n    height: V,\n    isEditorReady: M,\n    loading: P,\n    _ref: w,\n    className: F,\n    wrapperProps: j\n  });\n}\nvar ie = Oe;\nvar we = Te(ie);\nimport { useState as Ie } from \"react\";\nimport ce from \"@monaco-editor/loader\";\nfunction Pe() {\n  var _Ie = Ie(ce.__getMonacoInstance()),\n    _Ie2 = _slicedToArray(_Ie, 2),\n    e = _Ie2[0],\n    r = _Ie2[1];\n  return k(function () {\n    var n;\n    return e || (n = ce.init(), n.then(function (t) {\n      r(t);\n    })), function () {\n      var _n;\n      return (_n = n) === null || _n === void 0 ? void 0 : _n.cancel();\n    };\n  }), e;\n}\nvar Le = Pe;\nimport { memo as ze } from \"react\";\nimport We, { useState as ue, useEffect as W, useRef as C, useCallback as _e } from \"react\";\nimport Ne from \"@monaco-editor/loader\";\nimport { useEffect as Ue, useRef as ve } from \"react\";\nfunction He(e) {\n  var r = ve();\n  return Ue(function () {\n    r.current = e;\n  }, [e]), r.current;\n}\nvar se = He;\nvar _ = new Map();\nfunction Ve(_ref4) {\n  var e = _ref4.defaultValue,\n    r = _ref4.defaultLanguage,\n    n = _ref4.defaultPath,\n    t = _ref4.value,\n    a = _ref4.language,\n    m = _ref4.path,\n    _ref4$theme = _ref4.theme,\n    E = _ref4$theme === void 0 ? \"light\" : _ref4$theme,\n    g = _ref4.line,\n    _ref4$loading = _ref4.loading,\n    N = _ref4$loading === void 0 ? \"Loading...\" : _ref4$loading,\n    _ref4$options = _ref4.options,\n    x = _ref4$options === void 0 ? {} : _ref4$options,\n    _ref4$overrideService = _ref4.overrideServices,\n    P = _ref4$overrideService === void 0 ? {} : _ref4$overrideService,\n    _ref4$saveViewState = _ref4.saveViewState,\n    y = _ref4$saveViewState === void 0 ? !0 : _ref4$saveViewState,\n    _ref4$keepCurrentMode = _ref4.keepCurrentModel,\n    V = _ref4$keepCurrentMode === void 0 ? !1 : _ref4$keepCurrentMode,\n    _ref4$width = _ref4.width,\n    z = _ref4$width === void 0 ? \"100%\" : _ref4$width,\n    _ref4$height = _ref4.height,\n    F = _ref4$height === void 0 ? \"100%\" : _ref4$height,\n    j = _ref4.className,\n    _ref4$wrapperProps = _ref4.wrapperProps,\n    A = _ref4$wrapperProps === void 0 ? {} : _ref4$wrapperProps,\n    _ref4$beforeMount = _ref4.beforeMount,\n    q = _ref4$beforeMount === void 0 ? D : _ref4$beforeMount,\n    _ref4$onMount = _ref4.onMount,\n    M = _ref4$onMount === void 0 ? D : _ref4$onMount,\n    O = _ref4.onChange,\n    _ref4$onValidate = _ref4.onValidate,\n    T = _ref4$onValidate === void 0 ? D : _ref4$onValidate;\n  var _ue = ue(!1),\n    _ue2 = _slicedToArray(_ue, 2),\n    s = _ue2[0],\n    u = _ue2[1],\n    _ue3 = ue(!0),\n    _ue4 = _slicedToArray(_ue3, 2),\n    c = _ue4[0],\n    w = _ue4[1],\n    d = C(null),\n    o = C(null),\n    b = C(null),\n    L = C(M),\n    U = C(q),\n    I = C(),\n    i = C(t),\n    f = se(m),\n    Q = C(!1),\n    B = C(!1);\n  k(function () {\n    var p = Ne.init();\n    return p.then(function (R) {\n      return (d.current = R) && w(!1);\n    }).catch(function (R) {\n      return (R === null || R === void 0 ? void 0 : R.type) !== \"cancelation\" && console.error(\"Monaco initialization: error:\", R);\n    }), function () {\n      return o.current ? pe() : p.cancel();\n    };\n  }), l(function () {\n    var _o$current, _o$current2, _o$current3, _o$current4;\n    var p = h(d.current, e || t || \"\", r || a || \"\", m || n || \"\");\n    p !== ((_o$current = o.current) === null || _o$current === void 0 ? void 0 : _o$current.getModel()) && (y && _.set(f, (_o$current2 = o.current) === null || _o$current2 === void 0 ? void 0 : _o$current2.saveViewState()), (_o$current3 = o.current) !== null && _o$current3 !== void 0 && _o$current3.setModel(p), y && ((_o$current4 = o.current) === null || _o$current4 === void 0 ? void 0 : _o$current4.restoreViewState(_.get(m))));\n  }, [m], s), l(function () {\n    var _o$current5;\n    (_o$current5 = o.current) === null || _o$current5 === void 0 || _o$current5.updateOptions(x);\n  }, [x], s), l(function () {\n    !o.current || t === void 0 || (o.current.getOption(d.current.editor.EditorOption.readOnly) ? o.current.setValue(t) : t !== o.current.getValue() && (B.current = !0, o.current.executeEdits(\"\", [{\n      range: o.current.getModel().getFullModelRange(),\n      text: t,\n      forceMoveMarkers: !0\n    }]), o.current.pushUndoStop(), B.current = !1));\n  }, [t], s), l(function () {\n    var _o$current6, _d$current;\n    var p = (_o$current6 = o.current) === null || _o$current6 === void 0 ? void 0 : _o$current6.getModel();\n    p && a && ((_d$current = d.current) === null || _d$current === void 0 ? void 0 : _d$current.editor.setModelLanguage(p, a));\n  }, [a], s), l(function () {\n    var _o$current7;\n    g !== void 0 && ((_o$current7 = o.current) === null || _o$current7 === void 0 ? void 0 : _o$current7.revealLine(g));\n  }, [g], s), l(function () {\n    var _d$current2;\n    (_d$current2 = d.current) === null || _d$current2 === void 0 || _d$current2.editor.setTheme(E);\n  }, [E], s);\n  var X = _e(function () {\n    if (!(!b.current || !d.current) && !Q.current) {\n      var _d$current3;\n      U.current(d.current);\n      var p = m || n,\n        R = h(d.current, t || e || \"\", r || a || \"\", p || \"\");\n      o.current = (_d$current3 = d.current) === null || _d$current3 === void 0 ? void 0 : _d$current3.editor.create(b.current, _objectSpread({\n        model: R,\n        automaticLayout: !0\n      }, x), P), y && o.current.restoreViewState(_.get(p)), d.current.editor.setTheme(E), g !== void 0 && o.current.revealLine(g), u(!0), Q.current = !0;\n    }\n  }, [e, r, n, t, a, m, x, P, y, E, g]);\n  W(function () {\n    s && L.current(o.current, d.current);\n  }, [s]), W(function () {\n    !c && !s && X();\n  }, [c, s, X]), i.current = t, W(function () {\n    var _I$current, _o$current8;\n    s && O && ((_I$current = I.current) !== null && _I$current !== void 0 && _I$current.dispose(), I.current = (_o$current8 = o.current) === null || _o$current8 === void 0 ? void 0 : _o$current8.onDidChangeModelContent(function (p) {\n      B.current || O(o.current.getValue(), p);\n    }));\n  }, [s, O]), W(function () {\n    if (s) {\n      var p = d.current.editor.onDidChangeMarkers(function (R) {\n        var _o$current$getModel;\n        var G = (_o$current$getModel = o.current.getModel()) === null || _o$current$getModel === void 0 ? void 0 : _o$current$getModel.uri;\n        if (G && R.find(function (J) {\n          return J.path === G.path;\n        })) {\n          var J = d.current.editor.getModelMarkers({\n            resource: G\n          });\n          T === null || T === void 0 || T(J);\n        }\n      });\n      return function () {\n        p === null || p === void 0 || p.dispose();\n      };\n    }\n    return function () {};\n  }, [s, T]);\n  function pe() {\n    var _I$current2, _o$current$getModel2;\n    (_I$current2 = I.current) !== null && _I$current2 !== void 0 && _I$current2.dispose(), V ? y && _.set(m, o.current.saveViewState()) : (_o$current$getModel2 = o.current.getModel()) === null || _o$current$getModel2 === void 0 ? void 0 : _o$current$getModel2.dispose(), o.current.dispose();\n  }\n  return We.createElement(H, {\n    width: z,\n    height: F,\n    isEditorReady: s,\n    loading: N,\n    _ref: b,\n    className: j,\n    wrapperProps: A\n  });\n}\nvar fe = Ve;\nvar de = ze(fe);\nvar Ft = de;\nexport { we as DiffEditor, de as Editor, Ft as default, _t as loader, Le as useMonaco };","map":{"version":3,"names":["_t","memo","Te","ke","useState","re","useRef","S","useCallback","oe","useEffect","ne","Se","ye","K","le","wrapper","display","position","textAlign","fullWidth","width","hide","v","me","ae","container","height","justifyContent","alignItems","Y","Me","_ref","e","children","createElement","style","Z","$","Ee","_ref2","r","n","isEditorReady","t","loading","a","m","className","E","wrapperProps","_objectSpread","ref","ee","H","xe","Ce","k","ge","Re","he","arguments","length","undefined","current","l","D","h","De","be","editor","getModel","te","createModel","Uri","parse","Oe","_ref3","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","_ref3$keepCurrentOrig","keepCurrentOriginalModel","g","_ref3$keepCurrentModi","keepCurrentModifiedModel","N","_ref3$theme","theme","x","_ref3$loading","P","_ref3$options","options","y","_ref3$height","V","_ref3$width","z","F","_ref3$wrapperProps","j","_ref3$beforeMount","beforeMount","A","_ref3$onMount","onMount","q","_re","_re2","_slicedToArray","M","O","_re3","_re4","T","s","u","c","w","d","o","b","i","init","then","f","catch","type","console","error","I","cancel","getOriginalEditor","setModel","getModifiedEditor","getOption","EditorOption","readOnly","setValue","getValue","executeEdits","range","getFullModelRange","text","forceMoveMarkers","pushUndoStop","_u$current","_u$current$getModel","setModelLanguage","_c$current","setTheme","_u$current2","updateOptions","L","_u$current3","U","_c$current2","createDiffEditor","automaticLayout","_u$current4","_i$original","_i$modified","_u$current5","dispose","ie","we","Ie","ce","Pe","_Ie","__getMonacoInstance","_Ie2","_n","Le","ze","We","ue","W","C","_e","Ne","Ue","ve","He","se","_","Map","Ve","_ref4","defaultValue","defaultLanguage","defaultPath","value","path","_ref4$theme","line","_ref4$loading","_ref4$options","_ref4$overrideService","overrideServices","_ref4$saveViewState","saveViewState","_ref4$keepCurrentMode","keepCurrentModel","_ref4$width","_ref4$height","_ref4$wrapperProps","_ref4$beforeMount","_ref4$onMount","onChange","_ref4$onValidate","onValidate","_ue","_ue2","_ue3","_ue4","Q","B","p","R","pe","_o$current","_o$current2","_o$current3","_o$current4","set","restoreViewState","get","_o$current5","_o$current6","_d$current","_o$current7","revealLine","_d$current2","X","_d$current3","create","model","_I$current","_o$current8","onDidChangeModelContent","onDidChangeMarkers","_o$current$getModel","G","uri","find","J","getModelMarkers","resource","_I$current2","_o$current$getModel2","fe","de","Ft","DiffEditor","Editor","default","loader","useMonaco"],"sources":["C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\DiffEditor\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\DiffEditor\\DiffEditor.tsx","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\MonacoContainer.tsx","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\styles.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\Loading\\Loading.tsx","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\Loading\\styles.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\Loading\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\hooks\\useMount\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\hooks\\useUpdate\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\utils\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\hooks\\useMonaco\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\Editor\\index.ts","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\Editor\\Editor.tsx","C:\\Users\\User\\Desktop\\תכנות\\davidson\\project\\DavidsonProject\\WebApp\\steps\\node_modules\\@monaco-editor\\react\\src\\hooks\\usePrevious\\index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","'use client';\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  theme = 'light',\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      monacoRef.current?.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, theme, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  theme = 'light',\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      monacoRef.current.editor.setTheme(theme);\n\n      if (line !== undefined) {\n        editorRef.current.revealLine(line);\n      }\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n    theme,\n    line,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}